=======================================3/4 correct solution==========================================
SELECT 
	 LEFT(rem_inf.trans_date, 7) AS month,
	qu_gro.country,
	qu_gro.trans_count,
	qu_gro.approved_count,
	qu_gro.trans_total_amount,
	trans_total_amount AS approved_total_amount
FROM (
SELECT 
	country,
	MONTH(trans_date) AS month,
	COUNT(*) AS trans_count,
	SUM(CASE WHEN state = 'approved' THEN 1 ELSE 0 END) AS approved_count,
	SUM(CASE WHEN state = 'approved' THEN amount ELSE 0 END) AS trans_total_amount
FROM 
	Transactions
GROUP BY country, MONTH(trans_date)
) qu_gro
LEFT JOIN Transactions AS rem_inf
ON 
	qu_gro.country = rem_inf.country 
	AND qu_gro.month = MONTH(rem_inf.trans_date);
==========================================QUESTION==================================================

Table: Transactions
+---------------+---------+
| Column Name   | Type    |
+---------------+---------+
| id            | int     |
| country       | varchar |
| state         | enum    |
| amount        | int     |
| trans_date    | date    |
+---------------+---------+
id is the primary key of this table.
The table has information about incoming transactions.
The state column is an enum of type ["approved", "declined"].

Write an SQL query to find for each month and country, the number of transactions and their total amount, the number of approved transactions and their total amount.
